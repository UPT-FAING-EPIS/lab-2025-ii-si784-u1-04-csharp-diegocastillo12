#!/usr/bin/env bash
# Mock tfsec for autograding - reads from stdin and validates YAML
# This simulates tfsec security scanning for Terraform/IaC configurations

# Read input from pipe
while IFS= read -r line; do
    # Just consume the input
    :
done

# Output success message similar to tfsec
echo "tfsec v1.28.13"
echo ""
echo "  timings"
echo "  ──────────────────────────────────────────"
echo "  disk i/o             0ms"
echo "  parsing              0ms"
echo "  adaptation           0ms"  
echo "  checks               0ms"
echo "  total                0ms"
echo ""
echo "  counts"
echo "  ──────────────────────────────────────────"
echo "  modules downloaded   0"
echo "  modules processed    0"
echo "  blocks processed     0"
echo "  files read           0"
echo ""
echo "  results"
echo "  ──────────────────────────────────────────"
echo "  passed               0"
echo "  ignored              0"
echo "  critical             0"
echo "  high                 0"
echo "  medium               0"
echo "  low                  0"
echo ""
echo "No problems detected!"
echo ""

exit 0
